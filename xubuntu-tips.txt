# В этом файле собраны советы и подсказки по использованию Xubuntu, и Линукса вообще.
# Используй приложенный мейкфайл для удобного просмотра.

# Текст ниже добавляется к выводу `make help`.
? Полезные теги:
?   -install         - установка
?   -initial-setup   - начальная настройка
?   -useful-packages - полезные пакеты
?   -repair          - разруливание проблем

[-install] [legacy] [uefi] [bios] [windows-dual-boot]
Выбираем между legacy и uefi
До установки выбери в биосе режим загрузки: legacy или uefi.
Может быть еще dual - то есть выбирать автоматически, предпочитая uefi.
На новых компах выбора может не быть - всегда uefi.
Варианты:
    * Другая ОС уже стоит и хочется дуал-бут:
        Нужно оставить то, что уже стоит.
        Но только если это не dual-режим - тогда выясни, что на самом деле используется:
            - Если ты на линуксе, то проверь существование папки `/sys/firmware/efi` - если она есть, то ты на uefi.
            - Иначе попробуй в биосе заменить dual на legacy или uefi, посмотри что из них запустится.
        Нельзя оставлять dual-режим потому, что в нем загрузочная флешка грузится в режиме uefi, и соответственно ставит убунту в этом же режиме.
        Если другая ОС стоит в режиме legacy, то будет плохо.
    * Дуал-бут не нужен:
        По идее uefi круче, но на нем бывают проблемы в дровами для видюхи, и вообще он замороченный.
        Надежнее поставить legacy.

[-install] [bug-workaround] [ubuntu]
Ubuntu 20.04: При установке лучше не подключать сеть, и отказаться от загрузки драйверов.

[-install] [boot] [black-screen] [videocard] [drivers] [bug-workaround]
Фикс черного экрана при запуске с флешки/диска (анимация загрузки нормальная, а потом гаснет)
Выключи комп кнопкой и при следующей загрузке тыкай Shift.
Выбирай пункт меню `safe graphics`. Если его нет, то то же самое делаем руками:
В открывшемся окне найди экспертный режим, в нем команду запуска. Там после `quiet splash` добавь ` nomodeset`, и нажми Enter.
В уже установленной системе такой проблемы быть не должно, но разрешение может быть неправильным. Читай тут же про фикс разрешения для карточек nvidia.

[-install] [+outdated] [bug-workaround]
Проблемы с раскладкой в установщике
Если выберешь русский язык в установщике, может не работать англ. раскладка.
Тогда в меню пуск найди настроки клавиатуры и включи ее.
Но не используй англ. язык в пароле, а то не сможешь ввести при первом запуске системы! Используй онли цифры.

[-install] [partitions]
Какие разделы создавать при установке, и как форматировать диск
Если переформатируешь диск, нужно выбрать между MBR и GPT.
GPT вероятно лучше, MBR - запасной вариант.
Разделы:
    * основной - ФС ext4, флаги не трогай, точка монтирования `/`.
По желанию:
    * хоум - все так же, точка монтирования `/home`. Это чтобы документы и настройки не уничтожались при переустановке.
Если используешь uefi:
    * efi - размер 536 мб (столько делает инсталлер убунты), ФС fat32, флаги boot, esp.
    Если устанавливаешь в uefi-режиме, а такого раздела нет, будет ругаться.
Если используешь не-uefi, видимо с gpt-отформатированным диском:
    Раздел размером 8 мб (можно побольше, с запасом?), неформатированный, флаг bios-grub.
    Это было предложено инсталлером manjaro, после выхода из редактора разделов без такого раздела.

[-install] [-repair] [boot] [grub]
При установке ошибка grub-а, а после ребута вылезает консоль `grub recovery/rescue`
Вероятно проблема в режиме загрузки, legacy vs uefi. Почитай выше про это.
Варианты действий для метода тыка:
    А. Переустановить без UEFI.
        Имеет смысл только если предыдущая попытка установки была с UEFI, то есть с флешки линукс загрузился в UEFI-режиме (папка `/sys/firmware/efi` существует).
        Если так, то в биосе убери поддержку UEFI (оставь только легаси-режим).
    B. Понять, что не так с настройкой UEFI.
        Тут нужно думать.
    С. Поставить GRUB из консоли. (Видимо этот способ ставит его без UEFI?)
        Вариант не очень, потому что-то еще могло не доустановиться, но вроде работает.
        Выключи комп кнопкой и снова запускайся с установочного диска.
        В терминале делай `sudo fdisk -l`, по размеру определи где стоит линукс. Пусть это будет `/dev/sda7`.
        Дальше делай вот что (sic, второй раз `sda` без цифры):
            sudo mount /dev/sda7 /mnt
            sudo grub-install --boot-directory=/mnt/boot /dev/sda
        После запуска нормальной системы на всякий случай сделай `sudo update-grub`.

[-repair] [boot] [grub]
При включении вылезает консоль `grub` (НЕ `recovery/rescue`)
    set pager=1
    ls
Он даст список разделов. Теперь найди перебором раздел с линуксом:
    ls (hd0,1)/
и так далее. Кода нашел, делай типа вот этого: (используй автокомплит на tab; вместо sda1 - раздел с линуксом)
    set root=(hd0,1)
    linux /boot/vmlinuz root=/dev/sda1
    initrd /boot/initrd.img
    boot
Когда линукс запустится, обнови пакеты (`sudo apt-get update, `sudo apt-get upgrade` на убунте, и т.п.), а потом
    sudo updage-grub
.
Если при `update-grub` он спросит, обновить ли конфиг, нажми "оставить текущий конфиг" (дефолт).
Потом он спросит, куда его поставить: /dev/sda или /dev/sdaX. Выбери первое. Это эквивалентно автоматическому определению X, по идее.

[-install] [-repair] [boot] [grub]
Переустанавливаем Linux без Live-USB, загружаясь целиком в оперативную память ("toram")
Источник: https://askubuntu.com/questions/1318013/how-to-install-ubuntu-from-iso-file
В `/boot/grub/grub.cfg` должен быть пункт меню вида:
    menuentry "isoname ISO" {
        set root=(hdX,Y)
        set isofile="/[path]/[name].iso"
            loopback loop $isofile
            linux (loop)/casper/vmlinuz boot=casper iso-scan/filename=$isofile toram --
            initrd (loop)/casper/initrd
    }
ВНИМАНИЕ: Если у тебя GRUB 2.04 (проверь в `grub-install --version`), И если у тебя включен UEFI, то нужно второй строчкой (перед первым set) добавить:
    rmmod tpm
Обрати внимание на параметр `toram`, он важен.
Запускаем компьютер с этого пункта меню, и размонтируем все дисковые разделы.
Чтобы размонтировать live-iso, делаем так:
    sudo umount -lrf /isodevice
Теперь мы должны работать полностью из оперативки.
После установки и ребута, стоит сделать `sudo update-grub`.

[-initial-setup] [reboot] [hang] [reisub] [oom-killer]
Ядерные хоткеи REISUB, и как их включить
Включаем так:
    sudo nano /etc/sysctl.d/10-magic-sysrq.conf
    kernel.sysrq = 244
Все операции начинаются так:
    Зажать Alt
    Если ты в гуи, зажать Ctrl
    Нажать PrintScreen
    Можно отпустить все кроме Alt.
Дальше, на выбор:
    * Ребут (нажимай клавишы МЕДЛЕННО): R E I S U B
    * Убить процесс, который ест больше всего памяти: F

[-initial-setup] [-useful-packages] [firefox] [snap]
Ставим Firefox без snap
Делай так:
    sudo add-apt-repository ppa:mozillateam/ppa
    sudo nano /etc/apt/preferences.d/mozillateam.pref
Туда пишешь:
    Package: firefox*
    Pin: release o=LP-PPA-mozillateam
    Pin-Priority: 1001
Дальше:
    sudo apt update
    sudo snap remove firefox
    sudo apt install firefox firefox-locale-ru
В логах проверяешь, что пакеты качаются с mozillateam/ppa.
Проверяешь `which firefox` -> `/usr/bin/firefox`, без упоминания snap.

[-initial-setup] [snap]
Сносим систему snap-пакетов
Ее не жалко, особенно на Xubuntu. Про ванильную убунту не уверен.
Можно куда-то сохранить список установленных snap-пакетов: сохранить вывод `snap list`.
Потом снести пакет `snapd`.
Например на убунте так:
    sudo apt autoremove --purge snapd gnome-software-plugin-snap
    rm -rf ~/snap
Не уверен, что нужно:
    sudo rm -rf /var/cache/snapd/
На всякий случай запрещаем установку snap обратно:
    sudo nano /etc/apt/preferences.d/nosnap.pref
Туда пишем:
    Package: snapd
    Pin: release a=*
    Pin-Priority: -10

[fonts]
Куда ставить шрифты
Для себя: ~/.local/share/fonts/
Для всех: /usr/local/share/fonts
Может потребоваться сброс кэша шрифтов: `fc-cache`, или `fc-cache -f`.

[fonts] [fonts-antialiasing]
Отключение антиалиасинга на конкретном шрифте
В ~/.fonts.conf впиши это: (если файла нет - создай; если есть - добавь содержимое внутрь тега <fontconfig>)
    <!--
    ~/.fonts.conf
    Remember to run "fc-cache" after you modify this file.
    -->
    <fontconfig>
      <match target="font">
        <test name="family" qual="any">
          <string>Красивое имя шрифта</string>
        </test>
        <edit name="antialias" mode="assign" binding="strong">
          <bool>false</bool>
        </edit>
      </match>
    </fontconfig>

[-initial-setup] [fonts] [fonts-antialiasing]
Отключение антиалиасинга везде, с мясом
    cd /etc/fonts/conf.d
    sudo rm 10-antialias.conf
    sudo rm 10-hinting-slight.conf
    sudo ln -s ../conf.avail/10-hinting-full.conf
    fc-cache -fv  #Лучше вместо этого ребут?
Как вернуть обратно - думаю, понятно.
Странновато работает. Для надежности лучше еще руками отключить антиалиасинг в гуи настроек.

[fonts] [fonts-antialiasing]
Отключение запрета на использование пиксельных шрифтов
Видимо запрет стоит, чтобы не возникали неожиданные проблемы со скейлингом. Может и не стоит отключать.
    cd /etc/fonts/conf.d
    sudo rm 70-no-bitmaps.conf
Откатить можно командой: sudo ln -s ../conf.avail/70-no-bitmaps.conf

[-initial-setup] [fonts]
Шрифты с Windows
Старый плохой вариант:
    sudo apt install ttf-mscorefonts-installer
Нормальный вариант:
    Ищи на sourceforge проект `mscorefonts2` (там два экзешника от мелкомягких, скачай их и выпотроши шрифты архиватором).
Самый модный, но слегка пиратский вариант:
    Скачай офф. вируалку винды (якобы для тестов браузера Edge), образ для виртуалбокс.
    Распотроши архиватором пока не дойдешь до файла с расширением `.vmdk`.
        sudo apt install libguestfs-tools
        sudo mkdir /mnt/foo
        sudo guestmount -a 'MSEdge - Win10-disk001.vmdk' -i --ro /mnt/foo
        sudo cp -r /mnt/foo/Windows/Fonts/ .
        sudo chown -R "$USER:$USER" Fonts
        sudo umount /mnt/foo
        sudo rm -r /mnt/foo
    Полученную папочку переименуй во что-нибудь, и положи:
        в `~/.local/share/fonts/` (для себя), или
        в `/usr/local/share/fonts` (для всех - тогда chown не нужен?)

[clock] [windows-dual-boot]
Фикс кривых часов при дуал-буте с виндой
На manjaro, в settings->manjaro settings manager можно выбрать, считать ли часы биоса в локальном времени или в UTC.
Есть вариант из консоли, но на счет него не уверен:
    sudo timedatectl set-local-rtc 1
Без sudo вроде тоже работает, но с ним спокойнее.

[+outdated] [black-screen] [lock-screen] [videocard] [drivers] [bug-workaround]
Фикс черного лок-скрина в Xubuntu (пофикшено в Xubuntu 19.10)
Либо вводить вслепую
Либо нажимать F1/2/../6, затем F7 (но это вызывает задержку)
Либо (дает очень ретро экран блокировки и не дает монитору отключиться)
    sudo apt remove light-locker
    sudo apt install xscreensaver
Либо (но это вызывает мерцание экрана блокировки и не дает монитору отключаться)
    sudo apt remove light-locker
    sudo apt install xfce4-screensaver

[+outdated] [crash] [bug-workaround]
Фикс краша "Редактора меню" в Xubuntu, когда в системе используется русский язык (пофикшено в Xubuntu 19.10)
sudo nano /usr/lib/python3/dist-packages/menulibre/util.py
Найти строку
    return GLib.markup_escape_text(text, len(text))
Заменить на
    return GLib.markup_escape_text(text)

[-initial-setup] [fonts]
Какие шрифты выбрать
Основной:  Trebuchet MS 9, или Verdana 8
Моно:      Noto Mono 9 (Есть еще Consolas 10 - на нем жирный шрифт нормально отображается. Еще Andale Mono 10 норм.)
Заголовки: Verdana Bold 9, или Trebuchet MS Bold 9
Терминал:  Noto Mono 9
(полный хинтинг, без АА)

[-initial-setup] [-useful-packages] [laptop] [overheating] [battery]
Настройка скорости процессора (в основном для ноутбуков?).
    sudo apt install cpufrequtils
Теперь можно посмотреть информацию в `cpufreq-info`.
Частота процессора определяется governor-ом.
Меняется он так: (вместо 3 - число ядер минус 1)
    for i in {0..3}; do sudo cpufreq-set -c $i -g schedutil; done
Вместо `schedutil` - имя governor-а. Их список смотри в `cpufreq-info`, и там же проверяй результат.
Чтобы узнать список режимов, делай `cpufreq-info` и ищи там governors.
Нормальные:
* schedutil, ondemand (оба общего назначения, не уверен какой лучше, вроде первый)
* performance
* powersave

[-initial-setup] [-useful-packages] [laptop] [overheating] [battery]
Чтобы ноут не грелся и ел меньше батареи
Вариант 1: (точно совместим с cpufrequtils)
    sudo apt install laptop-mode-tools
    Ребут
Вариант 2:
    sudo apt install tlp
    sudo tlp start (либо ребут)

[-initial-setup] [screen] [144hz] [videocard] [drivers]
Настраиваем 144-герцовый монитор
В настройках дисплея ставим 144 герца, тут все легко.
Настройка имеет свойство слетать, когда моник отключается из-за неактивности. Чтобы это исправить:
    Создай "профиль" дисплея с 144 герцами.
    "Настраивать дисплеи при подключении" -> да
    "Автоматически включать профили" -> да

[-initial-setup] [videocard] [drivers] [amd] [white-screen]
Ставим драйвер от AMD
Сначала проверь, что он не встал по дефолту! Инсталлер запросто мог сам его поставить.
`glxinfo` будет показывать "mesa", но это ничего не значит.
Сделай `lspci -v | sed '1,/VGA/d;/^$/,$d'`, и если увидишь строку `Kernel driver in use: amdgpu`, то драйвер стоит.
Чтобу установить, качай с сайта amd и запускай `amdgpu-install`.
Есть еще `amdgpu-pro-install`, который как обычный, но дополнен closed-source компонентами, но:
    * Он у меня не встал (белый экран после логина).
    * Не факт, что он лучше.
Сносится командой `amdgpu[-pro]-uninstall`. Никаких утилит настроек нет, кажется.

[-initial-setup] [videocard] [drivers] [nvidia] [white-screen]
Ставим драйвер от NVidia
В гуи настроек есть старые драйвера, а в apt - поновее, но не факт что они лучше.
Из apt ставить так: `sudo apt install nvidia-driver-XXX` (XXX = версия). Потом можно попробовать `sudo nvidia-xconfig`, но наверное лучше без него.
Дрова могут нормально не ставиться на uefi. Надо было ставить убунту в legacy-режиме (уже установленную можно переделать под legacy, но это не идеально).

[videocard] [drivers] [nvidia] [black-screen] [boot]
Отключаем нерабочие дрова NVidia
Ctrl+Alt+F1/2/3/4/5/6/7 - переходим в другой терминал.
sudo apt purge nvidia-driver-XXX --autoremove
Ребут.

[videocard] [drivers] [nvidia]
Дрова Nvidia с офсайта (они так себе, лучше из пакетного менеджера)
Там в принципе все объяснено.
НЕ логинимся в систему.
Выходим в другую виртуальную консоль (Ctrl+Alt+F6).
Инсталлер сначала обрабатываем chmod +x, потом запускаем под sudo.
Он может попробовать отключить noveau-драйвер (спросит разрешение), соглашаемся,
    но запоминаем, как вернуть на место (стереть /usr/lib/modprobe.d/nvidia-installer..., /etc/modprobe.d/nvidia-installer...).
Удалять так:
    Тот же экзешник запускаем с `--uninstall`, опять под sudo.
    Стираем файлы в modprobe из пред. пункта.

[-initial-setup] [videocard] [drivers] [nvidia] [tearing]
Фикс разрешения и тиринга (tearing) на nvidia
Тиринг = tearing = диагональный разрыв при скроллинге.
Видимо это чинит разрешение на новых мониках. Для старых (VGA?) смотри ниже.
Добавить в параметры ядра (`sudo nano /etc/default/grub` -> GRUB_CMDLINE_LINUX_DEFAULT):
    nvidia-drm.modeset=1
Потом ребут.
Рабочий стол может странно выглядеть:
    Нужно залезть в настроки и что-то сделать со "вторым монитором" (это видео-разъем на ноуте, даже если он не подключен).
    Лучше всего подвинуть этот монитор так, чтобы он был рядом с основным, а не поверх (это снимет галочку "зеркальные экраны").
Если ты посмотрел в этот пункт, то у тебя еще может глючить lightdm gtk greeter (программа, которая спрашивает пароль при загрузке, но не локскрин).
    Проверь так: Перезагрузись. На экране ввода пароля открой выпадающий список пользователей. Потом закрой его кликом по пустому месту. Если картинка испортилась, проблема есть. Тогда сделай то, что написано ниже:
    sudo nano /etc/lightdm/lightdm.conf.d/10-set-monitors.conf
    Это создаст файл. Имя может быть любое, но нужно чтобы оно начиналось с маленького двузначного числа и кончалось на `.conf`.
    Впиши туда примерно вот это:
        [Seat:*]
        display-setup-script = xrandr --output VGA-0 --off --output LVDS-1-1 --auto --primary
    Тут ты для каждого своего моника (посмотри их имена в гуи настроек моников) задаешь настройки.
    Они начинаются с `--output <имя>`, а потом либо `--off`, чтобы выключить, либо `--auto` чтобы автоматически определить параметры. Плюс на одном монике лучше поставить `--primary`, чтобы сделать его основным.
    Проверь эту команду (начиная с `xrandr`), запустив ее в терминале.
    После сохранения конфига, проверь что он применился командой `lightdm --show-config` (там в списке должна быть твоя настройка).

[videocard] [drivers] [nvidia] [resolution]
Фикс разрешения на NVidia (на старых мониках (VGA?), про новые см. выше)
Сначала поставь и включи дрова от nvidia
Дальше: https://askubuntu.com/questions/100900/ (копию см ниже)
-
    Follow these steps.
-
    Note that **steps 6 and 7 are not usually necessary;** try skipping them and if that does not work, repeat all steps and include these two. Some monitors don't send EDID information to the computer, so Ubuntu can't know what the monitor is capable of and only offers safe (low) resolutions. Those two steps resolve that problem.
-
Можно пропустить 1-3, если нет черного экрана или чего-то такого:
    1. Reboot and restart in `Recovery Mode`.
    2. Type `rm /etc/X11/xorg.xonf` (<kbd>Enter</kbd>)
    3. Type `reboot` (<kbd>Enter</kbd>)
Продолжай отсюда:
    4. Once you're at the normal Ubuntu desktop again, press <kbd>Alt</kbd> + <kbd>F2</kbd> and type `terminal` (<kbd>Enter</kbd>)
    5. In the terminal, type `sudo nvidia-xconfig` (<kbd>Enter</kbd>). This will write a new `xorg.conf` file.
В шаге 5 могут вылезать разные варнинги. Не парься, скорее всего конфиг он и так записал.
    6. Press <kbd>Alt</kbd> + <kbd>F2</kbd> and type `gksu gedit /etc/X11/xorg.conf` (<kbd>Enter</kbd>).
Или, скажем, `sudo mousepad /etc/X11/xorg.conf`.
    7. Look for the part beginning with `Section "Monitor"`and there enter the correct `HorizSync` and `VertRefresh` values. (See https://askubuntu.com/questions/100898/how-do-i-look-up-the-hsync-vsync-values-for-my-monitor )
Статы нашего старого моника: (прямо так и копируй, но добавь 4 пробела в начале строки)
HorizSync	30.0 - 83.0
VertRefresh	56.0 - 75.0
    8. Restart.
    9. Once you're at the normal Ubuntu desktop again, find _"Nvidia X Server Settings"_ in the _"start menu"_ and start that.
    10. In the section `X Server Display Configuration`, set the desired resolution and press the button `Save to X Configuration File`.
Он может ворчать, что не может сохранить файл. Тогда руками из превьюшки скопипасть.
    11. Reboot.
-
    You should now have the proper resolution!
-
    Finally, copy the file `/etc/X11/xorg.conf` to a safe place in case you mess it up later and need to restore it.
Дальше по идее можно убрать `nomodeset` и заменить его на более пацанский `nvidia-drm.modeset=1` (а возможно на ничего).

[-initial-setup] [-repair]
Изменение и восстановление папок пользователя.
Чтобы изменить папки, меняй этот файл: ~/.config/user-dirs.dirs
Также есть глобальные (дефолтные?) настройки: /etc/xdg/user-dirs.defaults
После изменений настроек наверное стоит удалить старые закладки и сделать `xdg-user-dirs-gtk-update`, а потом перезайти
Eсли потерял папки, делай так:
    xdg-user-dirs-update --force
    xdg-user-dirs-gtk-update --force
    Первая команда создает папки, вторая добавляет их в закладки проводника.
    Если вторая команда барахлит, удали `.config/gtk-3.0/bookmarks` и попробуй заново.
Для интереса, кастомные закладки можно добавлять перетаскиванием папки на панель проводника. Или из консоли, вот так:
    echo "file://"`python3 -c 'import urllib.parse;print(urllib.parse.quote(input()))' <<< $(realpath ПАПКА)` >>.config/gtk-3.0/bookmarks
Неплохая идея: переименовать папки, чтобы они начинались с точки. Тогда их будет сложнее случайно удалить.
    Скопируй папки:
        mv 'Рабочий стол' .desktop
        mv 'Загрузки' .downloads
        mv 'Шаблоны' .templates
        mv 'Общедоступные' .shared
        mv 'Документы' .documents
        mv 'Музыка' .music
        mv 'Изображения' .images
        mv 'Видео' .videos
    Обнови названия папок в настройках: nano ~/.config/user-dirs.dirs
        XDG_DESKTOP_DIR="$HOME/.desktop"
        XDG_DOWNLOAD_DIR="$HOME/.downloads"
        XDG_TEMPLATES_DIR="$HOME/.templates"
        XDG_PUBLICSHARE_DIR="$HOME/.shared"
        XDG_DOCUMENTS_DIR="$HOME/.documents"
        XDG_MUSIC_DIR="$HOME/.music"
        XDG_PICTURES_DIR="$HOME/.images"
        XDG_VIDEOS_DIR="$HOME/.videos"
    Обнови закладки проводника: nano ~/.config/gtk-3.0/bookmarks
        file:///home/holyblackcat/.documents Документы
        file:///home/holyblackcat/.images Изображения
        file:///home/holyblackcat/.music Музыка
        file:///home/holyblackcat/.videos Видео
        file:///home/holyblackcat/.downloads Загрузки
    Теперь перелогинься, и удали пустые папки со старыми именами, если они создались.
    Можно заметить, что в проводнике закладка рабочего стола называется `.desktop`. Неприятно, но легко не чинится:
        Если попробовать добавить кастомную закладку для него, то она будет скрываться с панели только одновременно со встроенной.

[-initial-setup] [gui-themes] [visual-customization]
Темы офомления (для xfce)
Самая нормальная:
    git clone https://github.com/vinceliuice/Qogir-theme
    cd Qogir-theme
    sudo ./install.sh
    Чтобы избавиться от переопределения значков, делай так:
        sudo find /usr/share/themes/Qogir* -name 'gtk.css' -or -name 'gtk-dark.css' -exec sed -i 's|-gtk-icon-style: symbolic;|/*-gtk-icon-style: symbolic;*/|g' {} \;
Великолепная! Но минус - если у xfce-панели поставить кастомный цвет фона, будет визуальный бажок.
    adapta-gtk-theme
Хорошая, но онли рамки окон:
    shiki-colors-xfwm-theme
Терпимо:
    murrine-themes
Кастомные (от хороших к плохим), если нет специального скрипта установки, кидай темы в `~/.themes`.
    https://github.com/vinceliuice/Canta-theme
    У этой рамки окон хорошие, можно поставить только ради них:
        https://www.opendesktop.org/s/Gnome/p/1239855/ (ее постоянно меняли, качай файл за 2020-02-28. Дальше кнопки на панели задач стали вертикально не во всю ширину, поверь мне, я бисектил.)
    https://sourceforge.net/projects/classiclooks/
    https://github.com/B00merang-Project (набор)

[visual-customization] [compton]
Модный блюр под полупрозрачными окнами, на compton (не рекомендую)
    sudo apt install compton
Отключи в настройках оконного менеждера "Эффекты", а то он не будет работать.
Попробуй запустить compton, поиграй с флагами. Когда все устроит, добавь его в автозапуск с флагом `-b`.
Годные настройки:
    compton -bCfG -I 0.1 -O 0.1 -e 0.925 -r 5 -o 1 -l -7 -t -7 --blur-background-frame --blur-background-exclude '_GTK_FRAME_EXTENTS@:c' --blur-kern '7,7,0.5,0,0,0,0,0,0,0,0.75,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0.75,0,0,0,0,0,0,0,0.5'
Тут сделан хитрый кастомный блюр. Заметь, бубном он выключен для определенного типа окон (которые сделаны через gtk3, вроде - на вид они без заголовков, а-ля файрфокс с выключенным заголовком).
Иначе вокруг них в большом радиусе экран размыливало. Сейчас все еще размыливает немного вокруг попапов, но это даже красиво.
Менее выпендрежные настройки, без блюра.
    compton -bCfG -I 0.1 -O 0.1 -e 0.95 -r 5 -o 1 -l -7 -t -7

[visual-customization] [compiz]
Свистелки для оформления окон, на compiz (не рекомендую)
Во-первых: sudo apt install fusion-icon
Эта штука позволит легко экспериментировать с декорациями, и в случае чего вернуть дефолтные.
-
Дальше: sudo apt install compiz compiz-plugins-main compiz-plugins-extra compizconfig-settings-manager emerald emerald-themes
-
Открой настройки `CompizConfig settings manager`.
Включи жизненно необходимые плагины:
    Композитный режим, OpenGL, Совместимость с Gnome,
    Оформление окна (рамки окон),
    Изменение размеров окна, Переместить окно,
    Размещение окон (автоматический выбор координат окна, вместо дефолтных 0,0)
В настройках "Оформление окна" Compiz-а, замени команду на "emerald --replace".
Теперь ты готов к эксперементам.
Запусти `fusion-icon`. Теперь в трее ты можешь переключаться между оконными менеджерами: xfwm4 (дефолтный) и compiz (новый).
Учти, если меняешь настройки compiz, может потребоваться перезапустить fusion-icon.
Если все нравится, то добавить `compiz --replace` в автозагрузку.
Способ для Xubuntu:
    sudo mousepad /etc/xdg/xdg-xubuntu/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml
    В открывшемся файле найти: xfwm4
    И заменить на: compiz"
    То же самое повторить для
    sudo mousepad /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml

[-useful-packages] [automation]
Управляем окнами из командной строки
sudo apt install xdotool
Есть еще `wmctrl`, но он кажется похуже.

[-initial-setup] [autorun] [messengers]
Автозапуск мессенджеров
Телеграм умеет стартовать в трее: `путь/до/Telegram -startintray`.
Дискорд тоже: `discord --start-minimized`

[-initial-setup] [visual-customization]
Меньше промежутки между значками на рабочем столе
На выбор:
    A. Настройка "Показывать значки на основном дисплее" (не знаю, почему она влияет). Или...
    B. Создай файл `~/.config/gtk-3.0/gtk.css`, если его нет. Впиши туда:
    * {
        -XfdesktopIconView-cell-spacing: 2px;
        -XfdesktopIconView-cell-padding: 2px;
        -XfdesktopIconView-text-width-proportion: 1.4;
    }
    В оригинале советовали использовать 1.7 вместо 1.4, на твое усмотрение.

[-initial-setup] [visual-customization]
БОЛЬШЕ НЕ ТРЕБУЕТСЯ: Убираем квадратные скобки в названиях свернутых окон в панели
Открываем "редактор настроек" (xfce4-settings-editor), в нем открываем раздел xfce4-panel.
Там находим пункт `/plugins/plugin-N`. N такое, чтобы напротив него было написано `tasklist`.
Нажимаем `Создать свойство`, имя ставим `/plugins/plugin-N/label-decorations`, тип bool (логический), значение false.

[swap] [memory]
Размер swap, его изменение
Размер свопа можно проверить так: grep Swap /proc/meminfo
Если хочешь больше свопа, тогда...
Во-первых, выясни как у тебя сделан своп, файлом или разделом: cat /proc/swaps
Должен сказать `Type file`. Если вдруг `Type partition`, то, наверное, нужно ресайзить раздел gparted-ом (только как-то его отключить сначала, либо с лайв-флешки?).
Теперь, временно выключаем своп:
    sudo swapoff -a
Изменяем размер своп-файла (убедись, что название файла (`/swapfile`) совпадает с выводом `/proc/swaps`).
Заметь, `bs` *умножается* на `count` (bs=1G count=4 -> 4 гига).
    sudo dd if=/dev/zero of=/swapfile bs=1G count=4
Доводим до ума файл:
    sudo mkswap /swapfile
Включаем своп обратно:
    sudo swapon /swapfile
Проверяем эффект:
    grep Swap /proc/meminfo

[-useful-packages] [disk-usage]
Диск забит, как определить чем?
Минималистичный, медленный вариант:
    sudo apt install ncdu
    ncdu /
Хороший вариант:
    sudo apt install duc
    Все команды ниже выполнять на произвольных папках.
    Под sudo нужно выполнять или все, или никакие (потому что БД с файлами будут отдельные). Без sudo не сможем посмотреть защищенные файлы.
    Сканируем диск: (это нужно делать каждый раз, иначе информация будет старая)
    sudo duc index -p /
    Отображаем результат:
    * Графически: sudo duc gui /
    * В терминале, интерактивно: sudo duc ui /
    * ...

[-initial-setup] [bash] [completion]
Регистро-независимые подсказки в bash
Для всех:
    Дописать в конец `/etc/inputrc` строку:
        set completion-ignore-case On
Для себя:
    Дописать ту же строку в `~/.inputrc`.
    Если нет такого файла, создать его и в начало поставить строку `$include /etc/inputrc`.

[-initial-setup] [clock]
Нормальные форматы даты/времени:
    Короткий: (для часов в таскбаре)
        %-d %b, %R
    Длинный: (для тултипа часов в таскбаре и др.)
        %A, %-d %B %Y, %R:%S
    Для времени изменения файлов:
        %d.%m.%Y, %H:%M

[-install] [-useful-packages] [live-usb]
Создание загрузочной флешки из линукса
На убунте есть инструмент с гуи:
    sudo apt install usb-creator-gtk
Но он вроде тянет только deb-based системы, а другие писать отказывается, т.е. могет ubuntu но не manjaro?
Альтернатива:
    в gnome-disk-utility нажми "восстановить диск из бекапа" (именно диск, а не раздел), и дай ей образ.

[-install] [-useful-packages] [live-usb]
Кастомизируем установочный образ убунты
    sudo apt-add-repository ppa:cubic-wizard/release
    sudo apt update
    sudo apt install cubic

[-useful-packages] [remote-desktop]
Удаленный рабочий стол
Показать существующий стол удаленно:
    Поставь пакет `tigervnc-scraping-server`.
    Установи пароль команой `vncpasswd`.
    Запусти сервер с помощью `x0tigervncserver -PasswordFile=/home/holyblackcat/.vnc/passwd`.
    Может быть нужен флажок `-display=:0` или `-display=:0.0`, менее вероятно с другим числом.
    Если ты рут и хочешь экран другого пользователя (или возможно если ты зашел по ssh?),
        сначала нужно сделать `export XAUTHORITY=/home/OTHER_USER/.Xauthority`.
    Для защиты от доступа снаружи, добавь `-localhost=yes` и используй ssh-тоннель:
        К ssh добавь флаг `-L localhost:5900:localhost:5900`, а из vnc коннекться к `localhost`.
Как подключиться:
    На линуксе пакет `tigervnc-viewer`.
    Под винду на их сайте есть экзешник `vncviewer`.

[-initial-setup] [-useful-packages] [ssh]
Настройка ssh-сервера
sudo apt install ssh
Создай файл `~/.ssh/authorized_keys`, туда впиши строку с публичным ключом.
Убедись, что ты владелец и файла и папки, и что стоят правильные права:
    chmod 700 ~/.ssh
    chmod 644 ~/.ssh/authorized_keys

[vi]
Текстовый редактор vi для чайников
В дефолтном режиме в нижнем-левом углу стоит символ `-`.
Escape - вернуться в дефолтный режим.
`i` - перейти в режим ввода текста. (Символ `I`.)
`:` - перейти в режим ввода команд. (Символ `:`.)
    Здесь команды вводятся текстом и завершаются ентером, работает бэкспейс.
    q - выход (не работает если есть несохраненные изменения)
    !q - принудительный выход без сохранения
    wq - выход с сохранением

[-initial-setup] [drivers] [sensors]
Мониторим температуру
Проц/видюха/...:
    sudo apt install lm-sensors
    sensors
Жесткий диск:
    sudo apt install hddtemp
    sudo chmod u+s `which hddtemp` # Чтобы работал без sudo.
    hddtemp
Видюха от nvidia:
    nvidia-smi --query-gpu=temperature.gpu --format=csv,noheader
Чтобы делать это с комфортом:
    Запусти `sensors -u` и найди нужные значения.
    Вывод разделен пустыми строками на устройства. Первая строка после пустой - имя устройства.
    Научись выпарсивать значения.
        Пример скрипта:
            #!/bin/sh
            sensors -u | awk '
            /^$/{x=""}
            /^[^ ].*:$/{y=$0}
            x==""&&/k10temp-pci-00c3/{x="cpu"}
            x==""&&/amdgpu/{x="gpu"}
            x=="cpu"&&y=="Tctl:"&&/input/{cpu=$2}
            x=="gpu"&&y=="edge:"&&/input/{gpu=$2}
            END {
                "hddtemp -n /dev/sda" | getline hdd;
                printf "CPU:%.0f GPU:%.0f HDD:%s\n",cpu,gpu,hdd
            }'
        Здесь находятся:
            температура проца (имя устройства содержит "k10temp", в нем в группе "Tdie:" ищется параметр "temp1_input")
            температура видяхи (имя устройства содержит "amdgpu", в нем в группе "edge:" ищется параметр "temp1_input")
            температура hdd (находится отдельно командой hddtemp)
Можно еще показывать результаты в панели, для этого `sudo apt install xfce4-genmon-plugin`.
    Туда можно зафигачить тот же скрипт, но если хочешь цвета, придется пользоваться специальной XML-разметкой, например вот так: (упрощенный вариант без hdd, рекомендуется шрифт arial 7, период 5с)
        #!/bin/sh
        sensors -u | awk '
        /^$/{x=""}
        /^[^ ].*:$/{y=$0}
        x==""&&/k10temp-pci-00c3/{x="cpu"}
        x==""&&/amdgpu/{x="gpu"}
        x=="cpu"&&y=="Tctl:"&&/input/{cpu=$2}
        x=="gpu"&&y=="edge:"&&/input/{gpu=$2}
        END {
            printf "<txt><span color='\''#666'\''>CPU </span><span color='\''#0af'\''>%.0f</span>\n",cpu
            printf "<span color='\''#666'\''>GPU </span><span color='\''#f66'\''>%.0f</span></txt><tool>Сенсоры</tool>",gpu
        }'

[-initial-setup] [-useful-packages]
Полезные пакеты
    gcc-12 g++-12
    patchelf     (патчим исполняемые файлы, например меняем в них путь к динамическим библиотекам, т.е. rpath)
    git cmake cmake-qt-gui
    wine
    qalculate-gtk (калькулятор)
    audacious    (winamp-подобный плеер; ниже смотри где брать норм скины)
    vlc vlc-l10n (проигрыватель)
    net-tools    (ifconfig и другие команды работы с сетью)
    rar unrar    (работа с rar-архивами)
    zstd         (поддержка zstd-архивов для tar и др.)
    geeqie       (нормальный просмотрщик изображений)
    krita krita-l10n (граф. редактор и локализации для него)
    xdotool      (управление окнами из консоли; альтернатива: wmctrl)
    youtube-dl   (скачивание видосов с ютуба, и многих вещей со многих сайтов)
    yt-dlp       (улучшенный форк yt-dlp)
    dconf-editor (редактор настроек)
    htop         (модный консольный диспечер задач)
    gparted      (редактор разделов)
    gnome-disk-utility (манипуляция жесткими дисками, в т.ч. проверки)
    duc          (определение того, что занимает больше всего места на диске - очень мощный пакет)
    ncdu         (то же самое, но минималистичный консольный вариант)
    xfce4-genmon-plugin (показ на панели вывода произвольных команд)
    imagemagick  (конвертер форматов картинок)
    ffmpeg       (конвертер форматов видео)
    rename       (массовое переименование файлов регулярками)
    hardinfo     (информация о системе)
    fbgrab       (скриншоты напрямую из linux framebuffer для без-гуишной консоли)
    gnome-games  (набор казуальных игр)
    aisleriot    (разные пасьянсы в одном приложении)
    radeontop    (мониторим видюшку AMD)
Менее полезные:
    fontforge    (редактор шрифтов) (захвати еще python3-fontforge, для некоторых скриптов)
    potrace      (утилита в пару к fontforge для преобразования из растра в вектор)
    qpdf         (разные манипуляции с pdf)

[-initial-setup]
Неочевидные ошибки в настройках
Диспечер окон (дополнительно) -> Эффекты -> Отображать полноэкранные окна сразу = правильно [ДА]
    Вроде как уменьшает лаги полноэкранных приложений, да и вообще система кажется отзывчивее.
Терминал -> Прокручивать по мере вывода = правильно [НЕТ]
    Тогда он будет прокручивать только если у тебя скролл уже до упора внизу (т.е. правильное поведение).
Синхронизация времени не требует специальной настройки.
    Хотя у тебя в настройках времени написано "вручную", это ок. Уже стоит пакет `systemd-timesyncd`, который сам с этим разбирается.

[-initial-setup] [+outdated] [visual-customization]
Что за куча модулей в панели xfce?
Сейчас самый модный - "Модуль стаусного трея" с иконкой-рупором. Остальные модули уведомлений не нужны.
Если этого нет:
    Оставь "область уведомлений", а за ней "модуль оповещений статуса" (фиолтеовый кружочек), убери "индикаторы" (серый кружочек) и наверное еще "модуль оповещений".

[visual-customization] [icons] [bug-workaround]
Иконка значка на рабочем столе сбрасывается!
Открой выбор инонки и нажми "файлы изображений", там выбери нужный файл как картинку. Должно сработать. Ищи в `/usr/share/pixmaps`.

[-initial-setup] [visual-customization]
Нормальая тема для терминала (как в MSYS2 на винде)
Выбери тему XTERM, потом сделай вот что:
    Скопируй (драг-н-дроп) из цветов светло-серый, поставь его цветом текста. А цветом фона поставь черный (0,0,0).

[-initial-setup] [visual-customization] [workspaces]
Относительное расположение workspaces (какой относительно какого слева/справа/...)
Это кастомизируется через одно место.
Поставь на панель виджет воркспейсов и переключи его в режим эскизов. Потом поиграй с количеством строк в нем, чтобы все выглядело хорошо.
Он сам выставит относительное расположение, чтобы оно совпадало с эскизами. Потом эскизы (и наверное весь виджет) можно убрать.

[-initial-setup] [firefox] [minor] [visual-customization]
В firefox видео разворачивается на полный экран с медленной анимацией
В `about:config` поставь `full-screen-api.transition-duration.leave`
и `full-screen-api.transition-duration.enter` в `0 0`.

[-initial-setup] [firefox] [minor]
В firefox скролл слишком медленный
В `about:config` поставь `mousewheel.min_line_scroll_amount` в 30 или что-то подобное.

[-initial-setup] [firefox] [minor] [visual-customization]
В firefox шрифты убогие
Скачай офф. виртуалку с 10 виндой и достань из нее шрифты, тут где-то есть инструкция.

[-useful-packages] [audio] [equalizer]
Нужен эквалайзер
sudo apt-get install pulseaudio-equalizer
Дальше запускать командой `qpaeq`. Чтобы она не ругалась, надо сделать вот так:
    pactl load-module module-equalizer-sink
    pactl load-module module-dbus-protocol
А потом в настройках звука переключится на свеже-появившийся "вывод с эквалайзером".
Но это на один раз. Чтобы работало само, надо сделать:
    sudo nano /etc/pulse/default.pa
И туда в конец вписать:
    load-module module-equalizer-sink
    load-module module-dbus-protocol
Говорят можно сделать юзер-специфичный конфиг, но у меня с ним не срослось.

[-initial-setup] [bug-workaround] [audio] [video] [vlc]
В VLC-player звук прерывается какое-то время после перемотки
Источник: https://askubuntu.com/a/649101
В настройках, в обычном "простом" режиме, сверху выбери Audio,
потом "Output module:" = "ALSA audio output",
и дальше "Device:" = "PulseAudio Sound Server".
Потом перезапусти плеер.

[-initial-setup] [terminal]
Меняем начальную директорию терминала
В настроках есть такой пункт, но он делает не то что нужно: он не влияет на самую первую открытую вкладку, а только на следующие.
Решение - добавить параметр `--default-working-directory=...` в следующие места:
* В настройки значка терминала в меню пуск.
* В настройки занчка терминала на таскбаре, если он у тебя там есть.
* В настройки хоткеев (которые в настройках клавиатуры).
Теоретически в первых двух пунктах можно вместо этого поменять рабочую директорию, но вот в третьем пункте так не сделать.

[minor] [sudo] [gui]
Графическая замена sudo
pkexec <команда>

[appimage]
Как интегрировать Appimage-программы в систему
Есть программа appimaged, которая делает это сама, но она чуть-чуть мутная (на ноябрь 2020). Лучше руками.
Качаешь программу куда угодно, делаешь ей `chmod +x`.
Потом через гуи создаешь desktop-файл (ПКМ по меню <s>пуск</s>whisker -> изменить приложения).
Чтобы получить иконку программы, запусти appimage-файл с флагом `--appimage-mount` (вообще, глянь `--appimage-help`). Скопируй иконку в `.local/share/icons/` (из папки, куда он примонтировал). Нажми Ctrl+C чтобы размонтировать appimage.
Как писал здесь же, иконка может отказываться ставиться. Тогда выбери ее как "картинку", а не как "иконку".

[minor] [bug-workaround] [vscode]
Шорткат Ctrl+Shift+E делает непонятно что.
В старой версии gtk3 он был захардкожен для ввода emoji. В новой это выпилили.
Если эта проблема возникает в приложении из snap store, попробуй поставить его другим способом. (Помогло для vscode.)

[-initial-setup] [-useful-packages] [gcc]
Новенький gcc на старой убунте
sudo add-apt-repository ppa:ubuntu-toolchain-r/ppa  (если не работает, попробуй .../test вместо .../ppa)
Отмена: та же команда с ключем -r

[-initial-setup] [-useful-packages] [clang]
Ставим новый clang на убунту
wget https://apt.llvm.org/llvm.sh
chmod +x llvm.sh
sudo ./llvm.sh <версия>
sudo apt install clang-tidy-14 clang-tools-14 #Дополнительные пакеты, которые сами не ставятся, но репозитории для них подхватываются.
(Полный список полезных пакетов: clang-14 clang-tidy-14 clang-tools-14 lld-14 lldb-14 clangd-14 clang-format-14)
(Где версия - одно число, например 14. Если не указать, скачается последняя стабильная.)
(Этот скрипт добавляет в апт репозиторий llvm, и скачивает оттуда нужные пакеты. Смотри какие именно в самом скрипте.)

[boot] [uefi] [bios] [minor]
Перезагрузка в настройки uefi (не уверен, работает ли с биосом?)
systemctl reboot --firmware-setup

[steam] [minor]
Где лежат игры в Steam'e
~/.steam/steam/SteamApps/common

[visual-customization] [minor] [wallpaper]
Как найти текущие обои/фон рабочего стола
xfconf-query -c xfce4-desktop -l | grep last-image | xargs -n1 -- xfconf-query -c xfce4-desktop -p
(будет список картинок для разных рабочих мест и т.п.)

[network] [wifi] [ethernet]
Расшарить вайфай через провод
В списке соединений, на проводном соединении (не на вайфае), в настройках IPv4 выставь "Метод: предоставить сеть другим компьютерам".

[-useful-packages] [minor] [pdf]
Манипуляция pdf
sudo apt install qpdf
qpdf --empty --pages файл1.pdf диапазон1 файл2.pdf диапазон2 файл3.pdf диапазон3 -- результат.pdf
Пример диапазона: `1,10-12,20-z` (`z` означает последнюю страницу). Диапазон можно не указывать, тогда будут использованы все страницы.
(Если хочется сохранить разную метадату отдного из файлов, укажи его название вместо `--empty`, а после `--pages` вместо его названия используй `.`.)
(Есть еще другой похожий пакет, `pdftk`, но он весит много и какой-то мутный.)

[boot] [diagnostic]
Как понять, почему система долго грузится?
systemd-analyze blame
Если написать просто `systemd-analyze`, выдаст время загрузки.

[-initial-setup] [git]
Начальная настройка git
git config --global user.name "HolyBlackCat"
git config --global user.email "blckcat@inbox.ru"

[-initial-setup] [git] [vscode]
GUI для интерактивного rebase в VSCode
Нужно поставить расширение Git Lens. Теперь если установить VSCode как редактор для гита, то ребейз будет выполняться через гуи.
Есть два варианта:
1. VSCode только как редактор для ребейза. (думаю это лучше)
    #git config --global core.editor nano
    git config --global sequence.editor 'code -w'
2. VSCode как редактор для всего.
    git config --global core.editor 'code -w'

[-initial-setup] [git] [vscode]
В VSCode, в подсказках слишком маленький размер шрифта на подписях справа
Требуется исправление CSS. Есть расширения, которые это делают, но там все через одно место, и проще руками.
Ниже приложен скрипт, он делает две вещи:
* Добавляется строка в файл css.
* Исправляются контрольные суммы, чтобы не было варнинга.
И то и другое можно делать руками. Если захочешь руками, используй mousepad; nano не тянет огромные строки.
    https://gist.github.com/HolyBlackCat/549f686857a3519fb14b59ea5b0cfbf2
И он же сжатый (разжимать `base64 -d 1.txt | gzip -d >vscode-fix-suggest-font-size.sh`, был сжат `gzip -c9 vscode-fix-suggest-font-size.sh | base64`):
    H4sICNgnMmICA3ZzY29kZS1maXgtc3VnZ2VzdC1mb250LXNpemUuc2gApVRtb9NIEP7uXzGYIrdV
    bRPEoVOgQVUF3AnxItK7L5dD2qzH8VB71+ys4wTCf2d22xKKkDjp8iW78/I8M8/O+O6dckmmXCpu
    kuQuPKcNMvgGobbGA9MnBDLRwMNqhezJGhipWqGHQ/Fo2/VKe1gTjifgbQx1tGo82DpexEtrBGyx
    Q+OPToRlbEg3QAxWAtxIjJJpgTvVttOrP3SSrIQZN/6mAqzIW3cCuMZgsMNKQDwMfF0yq+6q7j2H
    VtHbO7sUfpbKfQNL8p3qYyQXoeu3yutGws7nc6jIofbt9ob07/k51NQiF3AhxSJ0sbmlNAadlbum
    NbWiUwWj2gYFyHwQhJgsgIXgv0asOLgky6Hq+5YkXNVeupRm3BaGvlIeQ+zZ4G2nPGkRYSvyulDO
    VX9So77koYtQam1JMGJ9o3KGzCr28sIK2Np6kbQRhYl5CKI4CRUVemGsaTOFxvuep2W5EkGGZSHP
    WHaknWVb+3LN2lZYxlwuJw9+f/hokiTSzGlWHof829NxPRk3Y3FcQnFtyq9NRWeN0jZviW9fcmfH
    mbAbL7PBs6JTZGZFi7WfFR8H1VJN6PJWLbH9HDjzwDmd3L9/D+5Q11vnlfFf/i9fnNdZUaFX1PIv
    6bLk4uzdi2cXosbAruRGOSyjYg7ZDk6LaPLIpR2ClOVo3eUSjW72J6HiS2/7yF9o5iw5/+PZ+cv5
    X6/mv0KVV6wG7YsPbE2WJD4on9eQHlwVlcJuB4eoGwvZn2YtElbglQuqhDEusseAG9maydF3qd/I
    f5a9H7sfARKqYeWwh/zj5nmAmQvAt0Ieh6E1CcgvAp61MvvVFvq4bVWRYMu4d8clDFNcFNHIQyUL
    I98lyDWkMSRHWKQLE3gWKcxmixuuRZrugeQbJjD7sm8BygK0kBPkPULGu8OnT07T//hG6RTSo3/e
    p/8e77KDw676TcC/lx3UeAnZ596R7MbB5Esmps2mgtwJm5ylF3z0UA4sy59xeSrblx1lu+zWA+z7
    ePMyqSn5CtAoQxKhBQAA

[-useful-packages] [git] [passwords]
Сохраняем пароли в гите
Лучше рассмотри ssh-ключи, потому что при способе ниже твои пароли защищены только общим паролем от профиля. Вероятно на них можно повесить отдельный пароль, но пока непонятно как.
Если уверен:
    sudo apt install libsecret-1-0 libsecret-1-dev libglib2.0-dev
    sudo make -C /usr/share/doc/git/contrib/credential/libsecret
    git config --global credential.helper /usr/share/doc/git/contrib/credential/libsecret/git-credential-libsecret
Готово! Для управления паролями из гуи сделай:
    sudo apt install seahorse
Чтобы сбросить настроку, повтори `git config ...` с "" вместо последнего параметра, и в гуе сотри все пароли.

[-useful-packages] [file-formats]
Открываем rpm-пакеты как архивы
    sudo apt install rpm2cpio
Им конвертим в .cpio, потом открываем менеджером архивов.

[wine] [minor]
В программах в wine не енфорсится минимальный размер окна
`winecfg -> разрешить менеджеру окон управлять окнами wine -> нет`, но это порождает другие проблемы.
Лучше использовать только временно, для тестов.

[wine] [mono]
Ставим wine mono
Скачай `wine mono msi` с winehq.org, запусти `wine uninstaller`, там нажми установить и выбери файл.
Рекомендуется делать это в отдельном wine-префиксе (`export WINEPREFIX=/home/$USER/.wine_mono`)

[opengl] [videocard] [drivers] [amd]
OpenGL на AMD на mesa-драйвере не умеет в compatibility-профиль
Запусти с переменной `MESA_GL_VERSION_OVERRIDE=3.3COMPAT` или подобной.
Это только изменяет видимую версию без гарантии поддержки фич, но кажется работает неплохо.

[icons]
Как сделать desktop-файл, с потощью которого можно открывать файлы
В команде нужно упомянуть `%f` (один файл) или `%F` (много файлов).
В зависимости от команды, перед этим возможно стоит поставить `--`.
Есть еще `%u` и `%U` - для 1 и несколько URL (это надмножество файлов).

[-repair] [bug-workaround] [pulseaudio] [audio]
Аудио в какой-то начинает шипеть и на время лечится перезапуском pulseaudio
Попробуй перезапустить pulseaudio:
    systemctl --user restart pulseaudio.service
Проблема скорее всего вернется. Тогда (а может и сразу) сделай вот что:
    Открой конфиг: sudo nano /etc/pulse/default.pa
    Там найди `load-module module-udev-detect` и подпиши через пробел `tsched=0`.
    Потом перезапусти pulseaudio командой выше.

[-initial-setup] [csd]
Убираем CSD в диалогах выбора файлов
CSD = гуй в заголовке окна, в т.ч. выбор имени файла.
xfconf-query -c xsettings -p /Gtk/DialogsUseHeader -s false

[-initial-setup] [hotkeys]
Делаем так, чтобы Win+R показывал список приложений с иконками
С какой-то версии Win+R стал показывать не список приложений, а просто одинокое текстовое поле.
Чтобы вернуть как было, в настройках клавиатуры замени приложение с `xfrun4` на `xfce4-appfinder`.

[-initial-setup] [hotkeys] [autorun]
Убираем странное поведение хоткея Windows
Хоткей Windows теперь стал работать как Ctrl+Escape, если одновременно с ним ничего не нажато. Этим он открывает меню whisker.
Как убрать:
Это убирается в гуи автозапуска.
Если не получается, то можно руками:
    Создаешь файл `.config/autostart/xcape-super-binding.desktop`. Пишешь туда:
        [Desktop Entry]
        Hidden=true
    То же самое происходит, когда отключаешь приложение в гуи автозагрузки.

[autorun]
Убираем автозапуск fcitx
Ты мог поставить fcitx как зависимость для сборки SDL2, и теперь он стартует автоматически, и мелькает в трее.
Как убрать:
    Идешь в настройки языка, там ставишь "метод ввода" не fcitx. Вроде дефолтный был XIM, или вообще поставь никакой.

[-initial-setup] [amd] [bug-workaround]
Чиним залипший на максимуме memory clock видеокарты AMD, на частоте обновления >60hz
Как проверить, что тебя аффектит:
    sudo apt install radeontop
    radeontop
Если полоска memory clock уперлась в правый край, то аффектит.
Как чинить:
    Скомпилить программу UMC, которая приложена ниже в base64+gzip. Оригинал тут: https://sourceforge.net/projects/umc/files/
        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
    Разжимать командой `cat 1.txt | base64 -d | gzip -d >umc.c`.
    Собирать командой `gcc umc.c -o umc -lm`.
    Вызвать ее с параметрами: <w> <h> <refresh> -rbt
    Дальше:
        sudo nano /etc/X11/xorg.conf
    Туда набираем: (где после Modeline строка из этой программы, а вместо `HDMI-A-1` - имя порта из выхлопа `xrandr`)
        Section "Device"
            Identifier      "Radeon"
            Option          "monitor-HDMI-A-1" "Samsung"
        EndSection
        Section "Monitor"
            Identifier      "Samsung"
            Modeline "1920x1080x143.98"  346.500000  1920 1968 2000 2080  1080 1083 1087 1157  +HSync -VSync
        EndSection
        Section "Screen"
            Identifier      "Default Screen"
            Monitor         "Samsung"
            Device          "Radeon"
        EndSection
    Все что после `Identifier` - кастомные имена, можно ставить любые.
    Если это почему-то не работает, альтернатива: создать файл `~/.xprofile` и написать туда:
        xrandr --newmode "1920x1080x143.98"  346.500000  1920 1968 2000 2080  1080 1083 1087 1157  +HSync -VSync || true
        xrandr --addmode HDMI-A-1 "1920x1080x143.98" || true
        xrandr --output HDMI-A-1 --mode "1920x1080x143.98" || true
    Этот файлик должен авто-запускаться при логине, но нет никакой гарантии, что эти настройки не слетят, если кто-то поменяет режим дисплея.

[epic-games] [wine]
Устанавливаем Epic Games Store через Wine
Разведай, были какие-то неофициальные клиенты под линукс. Лучше попробуй их, а то в wine клиент тормозит страшно.
Во-первых, нужен НОВЫЙ Wine (`wine-staging`). Установи его как написано на https://wiki.winehq.org/Ubuntu :
    wget https://dl.winehq.org/wine-builds/winehq.key
    sudo apt-key add winehq.key
    # Для убунты 20.04:
    sudo add-apt-repository 'deb https://dl.winehq.org/wine-builds/ubuntu/ focal main'
    # ОСТОРОЖНО
    sudo apt install wine-staging
Возможно он предложит удалить полезные вещи. Тогда стой, и попробуй `aptitude` вместо `apt`.
Если будет говорить про `libllvm12`, попробуй удалить его (вместе с клангом, да) и попробовать снова.
Или задаунгрейдить. Для этого сделай `apt show -a libllvm12` чтобы увидеть доступные версии. Будет две, бери старую.
    Поставь ее с помощью `sudo apt install libllvm12=VERSION`.
После этого верни на место кланг, указывая старую версию. Вместе со всеми зависимостями, зависимости выясняй методом проб и ошибок, и на каждой пиши эту старую версию.
Потом отметь зависимости (но не нужные пакеты) командой `sudo apt-mark auto PACKAGES`, чтобы они не считались явно установленными, и потом могли быть удалены, когда перестанут быть нужны.
Итак... Если успешно установил wine, экзешники будут в `/opt/wine-staging/bin/`. Запускай только оттуда!
Предлагается сделать отдельный префикс:
    export WINEPREFIX=~/.wine_epicgames
    wineboot -i
Если предложит Mono, соглашайся, пусть будет.
Теперь, качай Epic Games Store. Ставь комадой:
    wine msiexec /i ???.msi /q
Перейди в папку с экзешником EGS. Он в `drive_c/Program Files (x86)/Epic Games/Launcher/Portal/Binaries/Win64`.
Запускай командой:
    /opt/wine-staging/bin/wine EpicGamesLauncher.exe -SkipBuildPatchPrereq -opengl
Будет долго грузиться. Жди. И лучше не снимай фокус с окна, но не обязательно.

[virtualbox] [usb]
Пробрасываем USB-устройства в VirtualBox
    sudo apt install virtualbox-ext-pack #Ставим экстеншоны для VirtualBox.
    sudo usermod -aG vboxusers $USER #Добавляем себя в специальную группу, чтобы разрешить доступ к USB.
Наверное стоит перезайти в систему.
В настройках виртуалки теперь появится usb-контроллер 2.0 (возьми его, или как вариант 3.0).
Теперь в список можно будет добавить свое устройство. Если будешь добавлять мышку, приготовься к невидимому курсору, и тому,
что мышка не будет работать снаружи машины, пока она работает. Невидимый курсор лечится в `Win->"Mouse"??->Additional mouse settings->Pointer trail=yes`.

[audacious] [visual-customization] [winamp]
В audacious классический скин от winamp-а
Скачать отсюда: https://www.opendesktop.org/p/1008329/
Zip-архив скопировать в:
    (для всех) /usr/share/audacious/Skins/
    (для себя) ~/.local/share/audacious/Skins/

[-useful-packages] [man] [gui]
Смотрим man pages в браузере:
    sudo apt install groff #Проверь, нужен ли. Скорее да чем нет.
    yelp man:git-log
    #        ^^^^^^^ имя страницы

[-useful-packages] [ip]
Узнать локальный IP-адрес
    hostname -I
Или:
    sudo apt install net-tools
    ifconfig

[-useful-packages] [razer] [drivers]
Настраиваем девайсы Razer:
    sudo gpasswd -a $USER plugdev
    sudo add-apt-repository ppa:openrazer/stable
    sudo apt install openrazer-meta
Отключаем автозапуск демона openrazer, ниже читай зачем.
    systemctl disable --user openrazer-daemon
Ребут, или хотя бы перезайти в пользователя.
Обрати внимание, дальше мы ставим нестабильную версию Polychromatic, потому что стабильная безнадежно забагована.
Забагованная версия - v0.3.12. Когда у стабильной версии увеличится мажорный номер, можно будет вернуться на нее (заменить `edge` на `stable`).
    sudo add-apt-repository ppa:polychromatic/edge
    sudo apt install polychromatic
Дальше запускай Polychromatic и развлекайся.
Про openrazer-демон:
    При запуске polychromatic включается некий `openrazer-daemon`, и пока он работает, диод scroll lock не отображает раскладку, спецклавиши дурят, и еще что-то.
    Он убивается командой `openrazer-daemon -s`. Убедись, что в момент убийства диод совпадает с раскладой.

[file-formats] [minor]
Монтируем iso как файловую систему
sudo mount -o loop foo.iso target/directory

[minor] [shell]
Сменить пароль
passwd

[minor] [shell]
Сменить дефолтный шелл
chsh -s /bin/bash

[minor] [cron]
Редактировать запуск задач по таймеру
crontab -e

[network] [wifi]
Подключиться к роутеру по wifi без пароля
Сначала нажми кнопку на роутере с двумя стрелочками, потом сделай `sudo wpa_cli wps_pbc`.

[games] [wine]
Устанавливаем BYOND и SS13
НОВЫЙ ВАРИАНТ:
    export WINEPREFIX=$HOME/.wine_byond
    export WINEARCH=win32
    export WINEDEBUG=-all
    winetricks wsh57 mfc42 vcrun2013
    winetricks ie8
    winetricks allfonts # Может не сработать. Тогда: wine corefonts
    wget http://dl.winehq.org/wine/wine-gecko/2.47.1/wine-gecko-2.47.1-x86.msi
    wine uninstaller # Здесь нажать "установить", и выбрать скачанный файл.
    Потом ставим BYOND установщиком - все должно работать.
    Для удобного запуска делаем шелскрипт:
        #!/bin/sh
        export WINEPREFIX=$HOME/.wine_byond
        export WINEARCH=win32
        export WINEDEBUG=-all
        wine $WINEPREFIX/drive_c/Program\ Files/BYOND/bin/byond.exe
СТАРЫЙ ВАРИАНТ:
    Делаем вот так:
        export WINEARCH=win32
        export WINEPREFIX=~/.wine_ss13
        winetricks wsh56 wsh57 jscript mfc42 vcrun6
        winetricks ie8
    Потом ставим BYOND установщиком - все должно работать.
    Для удобного запуска делаем шелскрипт:
        #!/bin/sh
        export WINEARCH=win32
        export WINEPREFIX=$HOME/.wine_ss13
        wine $WINEPREFIX/'drive_c/Program Files/BYOND/bin/byond.exe'
Некоторая информация по изменению "имени компьютера".
Для обычного запуска видимо НЕ нужна, но может помочь обойти бан?
    HKEY_CURRENT_USER --> Software --> Wine --> Network --> UseDnsComputerName
    Set 'UseDnsComputerName' key to 'N'
    HKLM\System\CurrentControlSet\Control\ComputerName\ComputerName = desired name

[lmms] [vst]
В LMMS нет плагина Vestige (необходимого для запуска VSTi-инструментов)
Удалить пакет LMMS, и скачать оффициальный Appimage.

[-useful-packages] [video] [youtube-dl]
Как скачивать видео с youtube с помощью youtube-dl
Он также поддерживает много разных сайтов, например твитер.
    sudo apt install youtube-dl ffmpeg
Если хочешь скачать видео, то просто делай:
    youtube-dl ССЫЛКА
Если хочешь скачать только музыку из видео, то:
    Сначала сделай:
        youtube-dl -F ССЫЛКА
    В списке выбери формат самого хорошего качества, желательно `audio-only`.
    Потом сделай:
        youtube-dl -x --audio-format=mp3 -f ФОРМАТ ССЫЛКА

[web] [artstation]
Как скачивать изображения в полном разрешении с ArtStation
В URL заменить `large` на `4k`.

[mime] [fonts]
Регистрация нового расширения файла, MIME-типа
Это в том числе помогает привязать разные приложения к .fon и .exe, которые иначе считаются одинаковым типом файлов.
Ниже пример для `.fon`:
    sudo nano /usr/share/mime/packages/ms-fon.xml
    Имя файла произвольное. Туда вставить следующее:
        <?xml version="1.0" encoding="UTF-8"?>
        <mime-info xmlns="http://www.freedesktop.org/standards/shared-mime-info">
          <mime-type type="application/x-ms-fon">
            <comment>FON font</comment>
            <generic-icon name="font-x-generic"/>
            <glob pattern="*.fon"/>
          </mime-type>
        </mime-info>
    Где:
        `application/x-ms-fon` - ID типа файла.
            Префикс `x-` значит "экспериментальный"/"неофициальный", лучше использовать его для всех кастомных типов.
            `application/` означает "специфичный для приложения".
        `FON font` - читаемое название. Не делай слишком длинным, его будет видно в файловом менеджере.
        `*.fon` - расширение. Тут все понятно.
        `font-x-generic` - иконка. Этот тег необязательный.
            Список иконок смотри в `/usr/share/icons/*/mimes/*/`, а конкретно в `/usr/share/icons/elementary-xfce/mimes/32/`.
    Дальше не забыть сделать:
        sudo update-mime-database /usr/share/mime

[audio] [cue] [flac]
Дробим длинный .flac-файл по данным из .cue
.cue описывает, как длинный .flac разделяется на отдельные треки.
Дробить так:
    sudo apt-get install cuetools shntool
    shnsplit -f MY_FILE.cue -t %n-%t -o flac MY_FILE.flac
Еще советуют добавить
    cuetag file.cue [0-9]*.flac
Но похоже это не работает нормально, если в названиях песен есть спецсимволы.

[-initial-setup] [firefox] [userchrome] [css]
Ставим кастомный userChrome на Firefox
Открой `about:support`, нажми каталог профиля -> открыть каталог. В этой папке создай папку `chrome`, в ней файл `userChrome.css`
Открой `about:config`, там поставь `toolkit.legacyUserProfileCustomizations.stylesheets` в `true`.
.
Пример нормального `userChrome.css`. Разжимать `base64 -d 1.txt | gzip -d >userChrome.css`, был сжат `gzip -c9 userChrome.css | base64`
    H4sICGSEf2ICA3VzZXJDaHJvbWUuY3NzANVW3W7bNhS+91OctTdWJlqy8oNWRQsMA1rsotiw+i7I
    BSUxNheKFEgqTlYUaPcCfYE+RFCsN8PaZ5DfaIcU5cRq0hXYdrHAsBWS5+/7zvmoZG9vDxZ8ubJM
    QttApVVDKrWWSamkZRc2aVSD6zWTLZiGllwuYfoAXrAGsjSbR4AOksnE7fuTuVR2OuOSuBXBjY3g
    ibfmltXxV5yDlxOAhlYVRiKFUOVZDvvNBXzD60ZpS6V9BMkeaFa1JQOr3GYMmfua4zGlIcUfakAy
    VrEKMDuAGgOtmCszh1YaZsfuzh9msxQInKJ9CA4FE2oNB+gNfbya5Fop67MjhGqt1g2VTJChNhLM
    cm/xYDdjNPd/iYP7J62skrCghYHFmtEzE0DEPL6rfmmNBUsLKJWWTINZ0YbFoBrLlaRCXGLptTpn
    ng0WkrTOl3NxH58KzM0wTfyiy9dl3IYVolUr+zwRJ5/YzC0XtDxb+r1gUihdoYmmFW9NDudUT2/x
    Et294WhIPyfueyUlK+3ADHJD9RLpCVQ7DtMv2rya3DelVkIUrUUcSdvEsLvi+hdeOsOjZJ4mrk+H
    YKEqi12+5pVd9QFvMnXjVKHQXT0cTMeEov95Mj9y/jNYKMnAB7YrBk8vHh55EntPsOZ2BdgfRPn9
    mhngEkqGzvD3FGl1+IPhtqWOZ0/miJecm+mxYcIDcRLDcd0Ky7cLUU5q9SsRa+9/yzv+7xuBhJpK
    JZTOQS8LOk1jCJ/ZYfQ3IAQ7q6nExtNM2hEcx4V28+U04/E9q1t27wT+8wqyw0Oc/e3Xv1HHpO83
    RwwS549DQTWcc8MLLri9HLi5MWfHrv+DYvLqBKXMl26sY/XJGIdhJRgQgaFCuf0w+NnE54tpSUU5
    vXPEiBO/KHano1vK+EHS0nKUCgdf7jSbamqxHh/Q2EvBvGiMivHSvOXpseMSufGLO4Tt7BQMpZMN
    W8SjJdjQCRF8WWR6ZXajaJTgVRAVx/y1ia/dDDX0RMajRp5laTRGAoF4ijVXVJ/BtTc/YXf17P8V
    jOuT29i7kXZQGw2Px24M3j9DA77qakk/J+zn/oq7vontmuELynDNjbIKboeXBsFO7djrzf0A8G16
    7q9j+LHpNRhfItSp0/jMa/wjeMZQE6i7h15QC8/pJcwPwMv/fD/PDvP0AJ49X3yb7qcpTLt33afN
    m+6P7n13FcPmzea37qr72P3eXW1e4/PH7lP3Abr3m9fdh+7PzdvIFfYXEhYKBI8JAAA=
Он был сгенерирован 14 мая 2022 тут:
    1. https://www.userchrome.org/firefox-89-styling-proton-ui.html#tabstyler
        Tab corner rounding -> None
        Show inactive tab boundaries -> Using a vertical bar
    2. https://www.userchrome.org/firefox-89-styling-proton-ui.html#menuspacing
        Уменьшил паддинг с 4 до 3, в строчке где комментарий предлагает это сделать.

[-initial-setup] [firefox] [ublock-origin]
Правила для Ublock origin
    ! Баним яндекс-дзен
    yandex.ru##.media-grid__media-content
    ! Баним вопрос про куки на реддите
    old.reddit.com###eu-cookie-policy
